```
‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó  ‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó  ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó ‚ñà‚ñà‚ñà‚ïó   ‚ñà‚ñà‚ñà‚ïó‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó‚ñà‚ñà‚ñà‚ïó   ‚ñà‚ñà‚ïó‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó
‚ñà‚ñà‚ïî‚ïê‚ïê‚ïê‚ïê‚ïù‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó‚ñà‚ñà‚ïî‚ïê‚ïê‚ïê‚ïê‚ïù ‚ñà‚ñà‚ñà‚ñà‚ïó ‚ñà‚ñà‚ñà‚ñà‚ïë‚ñà‚ñà‚ïî‚ïê‚ïê‚ïê‚ïê‚ïù‚ñà‚ñà‚ñà‚ñà‚ïó  ‚ñà‚ñà‚ïë‚ïö‚ïê‚ïê‚ñà‚ñà‚ïî‚ïê‚ïê‚ïù
‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó  ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïî‚ïù‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë  ‚ñà‚ñà‚ñà‚ïó‚ñà‚ñà‚ïî‚ñà‚ñà‚ñà‚ñà‚ïî‚ñà‚ñà‚ïë‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó  ‚ñà‚ñà‚ïî‚ñà‚ñà‚ïó ‚ñà‚ñà‚ïë   ‚ñà‚ñà‚ïë   
‚ñà‚ñà‚ïî‚ïê‚ïê‚ïù  ‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë   ‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë‚ïö‚ñà‚ñà‚ïî‚ïù‚ñà‚ñà‚ïë‚ñà‚ñà‚ïî‚ïê‚ïê‚ïù  ‚ñà‚ñà‚ïë‚ïö‚ñà‚ñà‚ïó‚ñà‚ñà‚ïë   ‚ñà‚ñà‚ïë   
‚ñà‚ñà‚ïë     ‚ñà‚ñà‚ïë  ‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë  ‚ñà‚ñà‚ïë‚ïö‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïî‚ïù‚ñà‚ñà‚ïë ‚ïö‚ïê‚ïù ‚ñà‚ñà‚ïë‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó‚ñà‚ñà‚ïë ‚ïö‚ñà‚ñà‚ñà‚ñà‚ïë   ‚ñà‚ñà‚ïë   
‚ïö‚ïê‚ïù     ‚ïö‚ïê‚ïù  ‚ïö‚ïê‚ïù‚ïö‚ïê‚ïù  ‚ïö‚ïê‚ïù ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù ‚ïö‚ïê‚ïù     ‚ïö‚ïê‚ïù‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù‚ïö‚ïê‚ïù  ‚ïö‚ïê‚ïê‚ïê‚ïù   ‚ïö‚ïê‚ïù   

‚ñà‚ñà‚ñà‚ïó   ‚ñà‚ñà‚ñà‚ïó‚ñà‚ñà‚ïó‚ñà‚ñà‚ñà‚ïó   ‚ñà‚ñà‚ïó‚ñà‚ñà‚ïó      ‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó 
‚ñà‚ñà‚ñà‚ñà‚ïó ‚ñà‚ñà‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë‚ñà‚ñà‚ñà‚ñà‚ïó  ‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë     ‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó
‚ñà‚ñà‚ïî‚ñà‚ñà‚ñà‚ñà‚ïî‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë‚ñà‚ñà‚ïî‚ñà‚ñà‚ïó ‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë     ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïë‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïî‚ïù‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïî‚ïù
‚ñà‚ñà‚ïë‚ïö‚ñà‚ñà‚ïî‚ïù‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë‚ïö‚ñà‚ñà‚ïó‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë     ‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïë‚ñà‚ñà‚ïî‚ïê‚ïê‚ïê‚ïù ‚ñà‚ñà‚ïî‚ïê‚ïê‚ïê‚ïù 
‚ñà‚ñà‚ïë ‚ïö‚ïê‚ïù ‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë ‚ïö‚ñà‚ñà‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë     ‚ñà‚ñà‚ïë  ‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë     ‚ñà‚ñà‚ïë     
‚ïö‚ïê‚ïù     ‚ïö‚ïê‚ïù‚ïö‚ïê‚ïù‚ïö‚ïê‚ïù  ‚ïö‚ïê‚ïê‚ïê‚ïù‚ïö‚ïê‚ïù     ‚ïö‚ïê‚ïù  ‚ïö‚ïê‚ïù‚ïö‚ïê‚ïù     ‚ïö‚ïê‚ïù
```

# üåü Fragment ‚Äî Backend & Improvements for ScriptCode Team

**Fragment** ‚Äî —ç—Ç–æ —Å–µ—Ä–≤–µ—Ä–Ω–∞—è –∏ –∫–ª–∏–µ–Ω—Ç—Å–∫–∞—è —á–∞—Å—Ç—å –ø—Ä–æ–µ–∫—Ç–∞ **WebStorStars**, —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ Telegram-–º–∞–≥–∞–∑–∏–Ω–∞ –¥–ª—è –ø–æ–∫—É–ø–∫–∏ Stars, Premium –∏ –¥—Ä—É–≥–∏—Ö —É—Å–ª—É–≥ —Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π **Telegram Mini App** –∏ **Telegram Bot**.

---

## üß† –û –ø—Ä–æ–µ–∫—Ç–µ

üåê **WebStorStars** ‚Äî —ç—Ç–æ HTML Mini-App –∏ Telegram-–±–æ—Ç, —Ä–∞–±–æ—Ç–∞—é—â–∏–µ –≤–º–µ—Å—Ç–µ.  
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑ Mini-App, –≤—ã–±–∏—Ä–∞–µ—Ç —É—Å–ª—É–≥—É (Stars / Premium / Other), –≤—ã–±–∏—Ä–∞–µ—Ç –≤–∞–ª—é—Ç—É –æ–ø–ª–∞—Ç—ã (RUB, TON, USDT) –∏ —Å–æ–≤–µ—Ä—à–∞–µ—Ç –ø–æ–∫—É–ø–∫—É —á–µ—Ä–µ–∑ –±–æ—Ç–∞.  
–ë—ç–∫–µ–Ω–¥ –Ω–∞ **FastAPI** —Å–æ–µ–¥–∏–Ω—è–µ—Ç –≤—Å—ë –≤–æ–µ–¥–∏–Ω–æ: –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —á–µ—Ä–µ–∑ Fragment API, —Å–æ–∑–¥–∞—ë—Ç –∏–Ω–≤–æ–π—Å—ã, –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –æ–ø–ª–∞—Ç—É –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç Stars.

---

## üíª –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ø—Ä–æ–µ–∫—Ç–∞

### üß© HTML Mini-App (`index.html`)
–ö—Ä–∞—Å–∏–≤–∞—è –∏ –∞–¥–∞–ø—Ç–∏–≤–Ω–∞—è Mini-App —Å:
- ‚úÖ 3 –≤–∫–ª–∞–¥–∫–∞–º–∏ ‚Äî **Stars**, **Premium**, **Other**
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–æ–π username —á–µ—Ä–µ–∑ **Fragment API**
- ‚úÖ –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º –ø—Ä–æ—Ñ–∏–ª—è (–∞–≤–∞—Ç–∞—Ä, –∏–º—è, username)
- ‚úÖ –†–∞—Å—á—ë—Ç–æ–º —Ü–µ–Ω—ã –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Å–ø–æ—Å–æ–±–∞ –æ–ø–ª–∞—Ç—ã (**RUB / TON / USDT**)
- ‚úÖ –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ–º —Ç–µ–º—ã (**—Å–≤–µ—Ç–ª–∞—è / —Ç—ë–º–Ω–∞—è**)
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–æ–π –¥–≤—É—Ö —è–∑—ã–∫–æ–≤ ‚Äî **RU / EN**
- ‚úÖ –õ–∏–º–∏—Ç–∞–º–∏: –æ—Ç **50** –¥–æ **1 000 000 Stars**

---

### ü§ñ Telegram Bot (`bot_aiogram.py`)
–ë–æ—Ç –Ω–∞ **Aiogram**, –∫–æ—Ç–æ—Ä—ã–π:
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç —Å **SQLite** (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏)
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç **Fragment API** –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ username
- ‚úÖ –ü–æ–¥–∫–ª—é—á—ë–Ω –∫ **TON Wallet (WalletV5R1)** ‚Äî –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ Stars
- ‚úÖ –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ Mini-App
- ‚úÖ –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º

---

## üèóÔ∏è Backend (FastAPI)

### üöÄ –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã

|  –ú–µ—Ç–æ–¥ |        –≠–Ω–¥–ø–æ–∏–Ω—Ç        |      –û–ø–∏—Å–∞–Ω–∏–µ      |
|--------|------------------------|------------------------------------|
| `POST` | `/api/check_user` | –ü—Ä–æ–≤–µ—Ä–∫–∞ username —á–µ—Ä–µ–∑ Fragment API |
| `POST` | `/api/create_invoice` | –°–æ–∑–¥–∞–Ω–∏–µ —Å—á—ë—Ç–∞ –Ω–∞ –æ–ø–ª–∞—Ç—É |
| `GET`  | `/api/check_payment/{invoice_id}` | –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –æ–ø–ª–∞—Ç—ã |
| `POST` | `/api/purchase` | –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –ø–æ–∫—É–ø–∫–∏ –∏ –æ—Ç–ø—Ä–∞–≤–∫–∞ Stars |
| `GET`  | `/api/wallet_balance` | –ü–æ–ª—É—á–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞ –∫–æ—à–µ–ª—å–∫–∞ |

---

### ‚öôÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

- **FastAPI** + **Uvicorn**
- **SQLite / PostgreSQL**
- **SQLAlchemy ORM**
- **.env** (–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è)
- **CORS** –¥–ª—è Telegram Mini-App
- **Fragment API** + **TON Wallet API**

---

## üßæ –ü—Ä–∏–º–µ—Ä `.env`

```env
BOT_TOKEN=–≤–∞—à_—Ç–æ–∫–µ–Ω
API_TON=–≤–∞—à_api
GROQ_API_KEY=–≤–∞—à_groq_–∫–ª—é—á
MNEMONIC=word1,word2,word3...
STEL_SSID=...
STEL_DT=-240
STEL_TON_TOKEN=...
STEL_TOKEN=...
FRAGMENT_HASH=...
FRAGMENT_PUBLICKEY=...
FRAGMENT_WALLETS=...
FRAGMENT_ADDRES=...
ADMIN_IDS=123456789,987654321
```

### üß∞ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

1. –î–ª—è –Ω–∞—á–∞–ª–∞ –∫–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ø–∞–ø–∫—É –ø—Ä–æ–µ–∫—Ç–∞
```
python -m venv .venv
source .venv/bin/activate   # –¥–ª—è Linux / macOS
.\.venv\Scripts\activate    # –¥–ª—è Windows
```
2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
```
pip install -r requirements.txt
```

### üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
	‚Ä¢	–í—Å–µ –∫–ª—é—á–∏ –∏ —Ç–æ–∫–µ–Ω—ã ‚Äî —Ç–æ–ª—å–∫–æ –≤ .env
	‚Ä¢	–ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–∏–º–∏—Ç–æ–≤ (50‚Äì1 000 000 Stars)
	‚Ä¢	–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –¥–æ –æ—Ç–ø—Ä–∞–≤–∫–∏ Stars
	‚Ä¢	–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–π –∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π


### üß† –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏:

ü™ô –ü—Ä–æ–±–ª–µ–º–∞ —Å –±–∞–ª–∞–Ω—Å–æ–º TON –≤ HTML
–†–∞–Ω—å—à–µ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è walletBalance –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–ª–∞ –∑–Ω–∞—á–µ–Ω–∏–µ, –∏–∑-–∑–∞ —á–µ–≥–æ –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–ª–∏.

‚ùå –ë—ã–ª–æ:
```
getWalletBalance(walletAddress).then(balance => {
    walletBalance.textContent = `${balance} TON`;  // ‚Üê —Ç–æ–ª—å–∫–æ –≤ DOM
});
if (walletBalance < price) // ‚Üê –≤—Å–µ–≥–¥–∞ 0!
```
‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:
```
getWalletBalance(walletAddress).then(balance => {
    walletBalance = balance;  // ‚Üê —Å–æ—Ö—Ä–∞–Ω—è–µ–º –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é!
    walletBalanceEl.textContent = `${balance} TON`;
});
```

### üïì –ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: 
```
–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—Ç 1 –Ω–æ—è–±—Ä—è 2025 –≥–æ–¥–∞:
	‚Ä¢	–î–æ–±–∞–≤–ª–µ–Ω –Ω–æ–≤—ã–π –º–æ–¥—É–ª—å Fragment-api/api.py
	‚Ä¢	–ü–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω backend –Ω–∞ FastAPI —Å –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–º–∏ API-—ç–Ω–¥–ø–æ–∏–Ω—Ç–∞–º–∏
	‚Ä¢	–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ —Ä–∞–±–æ—Ç–∞ —Å –∫–æ—à–µ–ª—å–∫–∞–º–∏ TON –∏ Fragment API
	‚Ä¢	–î–æ–±–∞–≤–ª–µ–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ —Å –æ—Ç–¥–µ–ª—å–Ω—ã–º–∏ –º–æ–¥—É–ª—è–º–∏: config.py, database.py, handlers.py, main.py
	‚Ä¢	–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ Telegram-–±–æ—Ç–∞
	‚Ä¢	–ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –æ—à–∏–±–∫–∏ –≤ Mini-App (–≤–∞–ª–∏–¥–∞—Ü–∏—è username, —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞, –ø–µ—Ä–µ–≤–æ–¥ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞)
	‚Ä¢	–£–ª—É—á—à–µ–Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
```
```
–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è: ScriptCode Team.
–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ backend –∏ AI-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ ‚Äî ScriptCode Team.
üåç TG-–∫–∞–Ω–∞–ª: https://t.me/codescriptteam
```
